{% extends 'base.html' %}
{% load static %}

{% block title %}{{ project.title }} â€“ Martin Freimuth{% endblock %}

{% block content %}
<div class="w-full max-w-6xl mx-auto px-6 py-20">
    
    <!-- ZURÃœCK-NAVIGATION -->
    <div class="mb-10">
        <a href="{% if user.is_authenticated %}{% url 'projects:secret_lab' %}{% else %}{% url 'projects:public_list' %}{% endif %}" 
           class="inline-flex items-center gap-2 px-6 py-3 
                  bg-gray-200 dark:bg-gray-800 
                  hover:bg-gray-300 dark:hover:bg-gray-700
                  text-gray-900 dark:text-white
                  rounded-full font-medium transition shadow-lg">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            ZurÃ¼ck zu Projekten
        </a>
    </div>

    <!-- PROJECT HEADER -->
    <div class="mb-16">
        <h1 class="text-5xl md:text-7xl font-black mb-6 
                   text-gray-900 dark:text-white">
            {{ project.title }}
        </h1>
        
        <!-- Status Badge -->
        {% if project.is_public_demo %}
        <div class="inline-flex items-center gap-2 px-4 py-2 
                    bg-green-100 dark:bg-green-900/30 
                    border-2 border-green-500 
                    rounded-full mb-6">
            <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
            <span class="text-green-700 dark:text-green-400 font-bold text-sm">
                Ã–ffentlich verfÃ¼gbar
            </span>
        </div>
        {% else %}
        <div class="inline-flex items-center gap-2 px-4 py-2 
                    bg-red-100 dark:bg-red-900/30 
                    border-2 border-red-500 
                    rounded-full mb-6">
            <span class="w-2 h-2 bg-red-500 rounded-full"></span>
            <span class="text-red-700 dark:text-red-400 font-bold text-sm">
                ğŸ” Nur fÃ¼r eingeloggte User
            </span>
        </div>
        {% endif %}
        
        <!-- Description -->
        <p class="text-xl md:text-2xl text-gray-700 dark:text-gray-300 mb-6 leading-relaxed">
            {{ project.description }}
        </p>
        
        <!-- Technologies Badge -->
        <div class="inline-flex items-center gap-2 px-4 py-2 
                    bg-purple-100 dark:bg-purple-900/30 
                    border border-purple-300 dark:border-purple-700
                    rounded-full">
            <span class="text-purple-700 dark:text-purple-300 font-bold text-sm">
                ğŸ› ï¸ {{ project.technologies }}
            </span>
        </div>
    </div>

    <!-- THUMBNAIL -->
    {% if project.thumbnail %}
    <div class="mb-16 rounded-3xl overflow-hidden shadow-2xl 
                border-2 border-gray-200 dark:border-gray-700 
                hover:shadow-purple-500/20 transition duration-300">
        <img src="{{ project.thumbnail.url }}" 
             alt="{{ project.title }}"
             class="w-full h-auto object-cover">
    </div>
    {% else %}
    <div class="mb-16 rounded-3xl overflow-hidden 
                bg-gradient-to-br from-purple-600 to-pink-600 
                h-96 flex items-center justify-center shadow-2xl">
        <span class="text-9xl">ğŸš€</span>
    </div>
    {% endif %}

    <!-- ACTION BUTTONS -->
    <div class="flex flex-wrap gap-4 mb-16">
        {% if project.github_url %}
        <a href="{{ project.github_url }}" 
           target="_blank" 
           rel="noopener"
           class="inline-flex items-center gap-3 px-8 py-4 
                  bg-gray-900 dark:bg-gray-800 
                  hover:bg-gray-800 dark:hover:bg-gray-700
                  text-white font-bold rounded-xl 
                  transition shadow-lg hover:shadow-xl hover:scale-105">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            GitHub / Code
        </a>
        {% endif %}
        
        {% if project.live_demo_url %}
        <a href="{{ project.live_demo_url }}"  
           target="_blank" 
           rel="noopener"
           class="inline-flex items-center gap-3 px-8 py-4 
                  bg-gradient-to-r from-purple-600 to-pink-600 
                  hover:from-purple-500 hover:to-pink-500
                  text-white font-bold rounded-xl 
                  transition shadow-lg hover:shadow-xl hover:scale-105">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
            </svg>
            Live Demo
        </a>
        {% endif %}
    </div>

    <!-- LONG DESCRIPTION (falls vorhanden) -->
    {% if project.long_description %}
    <div class="bg-white dark:bg-gray-800/50 backdrop-blur p-10 rounded-3xl 
                border border-gray-300 dark:border-gray-700 shadow-lg mb-16">
        <h3 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">
            ğŸ“– Ãœber das Projekt
        </h3>
        <div class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed space-y-4">
            {{ project.long_description|linebreaks }}
        </div>
    </div>
    {% endif %}

    <!-- KEY FEATURES (falls vorhanden) -->
    {% if project.key_features %}
    <div class="bg-white dark:bg-gray-800/50 backdrop-blur p-10 rounded-3xl 
                border border-gray-300 dark:border-gray-700 shadow-lg mb-16">
        <h3 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">
            âœ¨ Key Features
        </h3>
        <ul class="space-y-4">
            {% for feature in project.key_features.splitlines %}
            {% if feature.strip %}
            <li class="flex items-start gap-4">
                <span class="text-2xl text-green-500 flex-shrink-0">âœ“</span>
                <span class="text-lg text-gray-700 dark:text-gray-300">
                    {{ feature }}
                </span>
            </li>
            {% endif %}
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- CHALLENGES & LEARNINGS (falls vorhanden) -->
    {% if project.challenges_learnings %}
    <div class="bg-gradient-to-br from-yellow-50 to-orange-50 
                dark:from-yellow-900/20 dark:to-orange-900/20
                p-10 rounded-3xl 
                border-2 border-yellow-500 shadow-lg mb-16">
        <h3 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">
            ğŸ“ Challenges & Learnings
        </h3>
        <div class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed space-y-4">
            {{ project.challenges_learnings|linebreaks }}
        </div>
    </div>
    {% endif %}

    <!-- TECH DETAILS (aufgeteilt in Tags) -->
    <div class="bg-white dark:bg-gray-800/50 backdrop-blur p-10 rounded-3xl 
                border border-gray-300 dark:border-gray-700 shadow-lg mb-16">
        <h3 class="text-3xl font-bold mb-6 text-purple-600 dark:text-purple-400">
            ğŸ› ï¸ Technologie-Stack
        </h3>
        <div class="flex flex-wrap gap-3">
            {% for tech in project.technologies.split %}
            <span class="px-5 py-3 
                         bg-purple-100 dark:bg-purple-900/30 
                         text-purple-700 dark:text-purple-300 
                         border border-purple-300 dark:border-purple-700
                         rounded-full font-medium text-lg
                         hover:bg-purple-200 dark:hover:bg-purple-900/50
                         transition">
                {{ tech }}
            </span>
            {% endfor %}
        </div>
    </div>

    <!-- CTA -->
    <div class="text-center py-16 
                bg-gradient-to-br from-purple-50 to-pink-50 
                dark:from-purple-900/20 dark:to-pink-900/20
                rounded-3xl border-2 border-purple-500/50">
        <div class="inline-block">
            <p class="text-2xl text-gray-900 dark:text-white font-bold mb-6">
                Beeindruckt? ğŸ’œ
            </p>
            <p class="text-xl text-gray-700 dark:text-gray-300 mb-8">
                Lass uns Ã¼ber dein nÃ¤chstes Projekt sprechen!
            </p>
            <a href="{% url 'core:contact' %}" 
               class="inline-block px-12 py-5 
                      bg-gradient-to-r from-purple-600 to-pink-600 
                      hover:from-purple-500 hover:to-pink-500
                      text-white font-bold text-xl rounded-full 
                      hover:scale-105 transition shadow-2xl">
                Kontakt aufnehmen â†’
            </a>
        </div>
    </div>

</div>
{% endblock %}